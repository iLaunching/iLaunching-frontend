/* Stream Animation Styles - Optimized CSS-Only Approach */

/* Keyframe: Wave effect for content */
@keyframes streamTextWave {
  0% {
    opacity: 0;
    transform: translateY(8px) scale(0.95);
  }
  50% {
    opacity: 0.85;
    transform: translateY(-0.5px) scale(1.005);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Keyframe: Fade in for lines */
@keyframes streamFadeInLine {
  0% {
    opacity: 0;
  }
  30% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

/* Keyframe: Cursor pulse */
@keyframes cursorPulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.3;
  }
}

/* Apply animations to streaming Response content */
.response-streaming .response-text-area > * {
  animation: streamFadeInLine 0.5s ease-out both;
}

.response-streaming .response-text-area > * > * {
  display: inline-block;
  animation: streamTextWave 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) both;
}

/* Blinking cursor while streaming */
.response-streaming .response-text-area::after {
  content: 'â–Š';
  color: #10b981;
  animation: cursorPulse 1s ease-in-out infinite;
  margin-left: 2px;
  font-weight: bold;
}

/* Ensure proper rendering for different node types */
.response-streaming .response-text-area p,
.response-streaming .response-text-area h1,
.response-streaming .response-text-area h2,
.response-streaming .response-text-area h3,
.response-streaming .response-text-area h4,
.response-streaming .response-text-area h5,
.response-streaming .response-text-area h6,
.response-streaming .response-text-area li {
  display: block;
}

/* Handle inline elements within animated blocks */
.response-streaming .response-text-area strong,
.response-streaming .response-text-area em,
.response-streaming .response-text-area code,
.response-streaming .response-text-area a,
.response-streaming .response-text-area span {
  display: inline-block;
}

/* Prevent animation on non-text elements */
.response-streaming .response-text-area img,
.response-streaming .response-text-area video,
.response-streaming .response-text-area iframe {
  animation: none;
}

/* Smooth transition when animation completes */
.response-text-area {
  will-change: opacity, transform;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  .response-streaming .response-text-area > *,
  .response-streaming .response-text-area > * > * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
